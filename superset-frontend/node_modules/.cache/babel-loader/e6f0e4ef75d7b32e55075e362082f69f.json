{"ast":null,"code":"import _css from \"@emotion/css\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonGroup from 'src/components/ButtonGroup';\nimport { t, useTheme } from '@superset-ui/core';\n\nimport { Tooltip } from 'src/common/components/Tooltip';\nimport Button from 'src/components/Button';import { jsx as ___EmotionJSX } from \"@emotion/core\";\n\nconst propTypes = {\n  canAdd: PropTypes.bool.isRequired,\n  onQuery: PropTypes.func.isRequired,\n  onSave: PropTypes.func,\n  onStop: PropTypes.func,\n  loading: PropTypes.bool,\n  chartIsStale: PropTypes.bool,\n  errorMessage: PropTypes.node };\n\n\nconst defaultProps = {\n  onStop: () => {},\n  onSave: () => {} };\n\n\nexport default function QueryAndSaveBtns({\n  canAdd,\n  onQuery,\n  onSave,\n  onStop,\n  loading,\n  chartIsStale,\n  errorMessage })\n{\n  let qryButtonStyle = 'tertiary';\n  if (errorMessage) {\n    qryButtonStyle = 'danger';\n  } else if (chartIsStale) {\n    qryButtonStyle = 'primary';\n  }\n\n  const saveButtonDisabled = errorMessage ? true : loading;\n  const qryOrStopButton = loading ?\n  ___EmotionJSX(Button, {\n    onClick: onStop,\n    buttonStyle: \"warning\",\n    buttonSize: \"small\",\n    disabled: !canAdd },\n\n  ___EmotionJSX(\"i\", { className: \"fa fa-stop-circle-o\" }), \" \", t('Stop')) :\n\n\n  ___EmotionJSX(Button, {\n    buttonSize: \"small\",\n    onClick: onQuery,\n    buttonStyle: qryButtonStyle,\n    disabled: !!errorMessage,\n    \"data-test\": \"run-query-button\" },\n\n  ___EmotionJSX(\"i\", { className: \"fa fa-bolt\" }), \" \", t('Run'));\n\n\n\n  const theme = useTheme();\n\n  return (\n    ___EmotionJSX(\"div\", {\n      css: /*#__PURE__*/_css({\n        display: 'flex',\n        flexShrink: 0,\n        flexDirection: 'row',\n        alignItems: 'center',\n        paddingTop: theme.gridUnit * 2,\n        paddingRight: theme.gridUnit * 2,\n        paddingBottom: 0,\n        paddingLeft: theme.gridUnit * 4,\n        '& button': {\n          width: 100 } }, \";label:QueryAndSaveBtns;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9RdWVyeUFuZFNhdmVCdG5zLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtRk0iLCJmaWxlIjoiL2FwcC9zdXBlcnNldC1mcm9udGVuZC9zcmMvZXhwbG9yZS9jb21wb25lbnRzL1F1ZXJ5QW5kU2F2ZUJ0bnMuanN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgQnV0dG9uR3JvdXAgZnJvbSAnc3JjL2NvbXBvbmVudHMvQnV0dG9uR3JvdXAnO1xuaW1wb3J0IHsgdCwgdXNlVGhlbWUgfSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5cbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdzcmMvY29tbW9uL2NvbXBvbmVudHMvVG9vbHRpcCc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ3NyYy9jb21wb25lbnRzL0J1dHRvbic7XG5cbmNvbnN0IHByb3BUeXBlcyA9IHtcbiAgY2FuQWRkOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBvblF1ZXJ5OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBvblNhdmU6IFByb3BUeXBlcy5mdW5jLFxuICBvblN0b3A6IFByb3BUeXBlcy5mdW5jLFxuICBsb2FkaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgY2hhcnRJc1N0YWxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgZXJyb3JNZXNzYWdlOiBQcm9wVHlwZXMubm9kZSxcbn07XG5cbmNvbnN0IGRlZmF1bHRQcm9wcyA9IHtcbiAgb25TdG9wOiAoKSA9PiB7fSxcbiAgb25TYXZlOiAoKSA9PiB7fSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFF1ZXJ5QW5kU2F2ZUJ0bnMoe1xuICBjYW5BZGQsXG4gIG9uUXVlcnksXG4gIG9uU2F2ZSxcbiAgb25TdG9wLFxuICBsb2FkaW5nLFxuICBjaGFydElzU3RhbGUsXG4gIGVycm9yTWVzc2FnZSxcbn0pIHtcbiAgbGV0IHFyeUJ1dHRvblN0eWxlID0gJ3RlcnRpYXJ5JztcbiAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgIHFyeUJ1dHRvblN0eWxlID0gJ2Rhbmdlcic7XG4gIH0gZWxzZSBpZiAoY2hhcnRJc1N0YWxlKSB7XG4gICAgcXJ5QnV0dG9uU3R5bGUgPSAncHJpbWFyeSc7XG4gIH1cblxuICBjb25zdCBzYXZlQnV0dG9uRGlzYWJsZWQgPSBlcnJvck1lc3NhZ2UgPyB0cnVlIDogbG9hZGluZztcbiAgY29uc3QgcXJ5T3JTdG9wQnV0dG9uID0gbG9hZGluZyA/IChcbiAgICA8QnV0dG9uXG4gICAgICBvbkNsaWNrPXtvblN0b3B9XG4gICAgICBidXR0b25TdHlsZT1cIndhcm5pbmdcIlxuICAgICAgYnV0dG9uU2l6ZT1cInNtYWxsXCJcbiAgICAgIGRpc2FibGVkPXshY2FuQWRkfVxuICAgID5cbiAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXN0b3AtY2lyY2xlLW9cIiAvPiB7dCgnU3RvcCcpfVxuICAgIDwvQnV0dG9uPlxuICApIDogKFxuICAgIDxCdXR0b25cbiAgICAgIGJ1dHRvblNpemU9XCJzbWFsbFwiXG4gICAgICBvbkNsaWNrPXtvblF1ZXJ5fVxuICAgICAgYnV0dG9uU3R5bGU9e3FyeUJ1dHRvblN0eWxlfVxuICAgICAgZGlzYWJsZWQ9eyEhZXJyb3JNZXNzYWdlfVxuICAgICAgZGF0YS10ZXN0PVwicnVuLXF1ZXJ5LWJ1dHRvblwiXG4gICAgPlxuICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtYm9sdFwiIC8+IHt0KCdSdW4nKX1cbiAgICA8L0J1dHRvbj5cbiAgKTtcblxuICBjb25zdCB0aGVtZSA9IHVzZVRoZW1lKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjc3M9e3tcbiAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAncm93JyxcbiAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgIHBhZGRpbmdUb3A6IHRoZW1lLmdyaWRVbml0ICogMixcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiB0aGVtZS5ncmlkVW5pdCAqIDIsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5ncmlkVW5pdCAqIDQsXG4gICAgICAgICcmIGJ1dHRvbic6IHtcbiAgICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICB9LFxuICAgICAgfX1cbiAgICA+XG4gICAgICA8QnV0dG9uR3JvdXAgY2xhc3NOYW1lPVwicXVlcnktYW5kLXNhdmVcIj5cbiAgICAgICAge3FyeU9yU3RvcEJ1dHRvbn1cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGJ1dHRvblN0eWxlPVwidGVydGlhcnlcIlxuICAgICAgICAgIGJ1dHRvblNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgZGF0YS10YXJnZXQ9XCIjc2F2ZV9tb2RhbFwiXG4gICAgICAgICAgZGF0YS10b2dnbGU9XCJtb2RhbFwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3NhdmVCdXR0b25EaXNhYmxlZH1cbiAgICAgICAgICBvbkNsaWNrPXtvblNhdmV9XG4gICAgICAgICAgZGF0YS10ZXN0PVwicXVlcnktc2F2ZS1idXR0b25cIlxuICAgICAgICA+XG4gICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtcGx1cy1jaXJjbGVcIiAvPiB7dCgnU2F2ZScpfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvQnV0dG9uR3JvdXA+XG4gICAgICB7ZXJyb3JNZXNzYWdlICYmIChcbiAgICAgICAgPHNwYW4+XG4gICAgICAgICAgeycgJ31cbiAgICAgICAgICA8VG9vbHRpcFxuICAgICAgICAgICAgaWQ9XCJxdWVyeS1lcnJvci10b29sdGlwXCJcbiAgICAgICAgICAgIHBsYWNlbWVudD1cInJpZ2h0XCJcbiAgICAgICAgICAgIHRpdGxlPXtlcnJvck1lc3NhZ2V9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtZXhjbGFtYXRpb24tY2lyY2xlIHRleHQtZGFuZ2VyIGZhLWxnXCIgLz5cbiAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cblF1ZXJ5QW5kU2F2ZUJ0bnMucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuUXVlcnlBbmRTYXZlQnRucy5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG4iXX0= */\")) },\n\n\n\n    ___EmotionJSX(ButtonGroup, { className: \"query-and-save\" },\n    qryOrStopButton,\n    ___EmotionJSX(Button, {\n      buttonStyle: \"tertiary\",\n      buttonSize: \"small\",\n      \"data-target\": \"#save_modal\",\n      \"data-toggle\": \"modal\",\n      disabled: saveButtonDisabled,\n      onClick: onSave,\n      \"data-test\": \"query-save-button\" },\n\n    ___EmotionJSX(\"i\", { className: \"fa fa-plus-circle\" }), \" \", t('Save'))),\n\n\n    errorMessage &&\n    ___EmotionJSX(\"span\", null,\n    ' ',\n    ___EmotionJSX(Tooltip, {\n      id: \"query-error-tooltip\",\n      placement: \"right\",\n      title: errorMessage },\n\n    ___EmotionJSX(\"i\", { className: \"fa fa-exclamation-circle text-danger fa-lg\" })))));\n\n\n\n\n\n}__signature__(QueryAndSaveBtns, \"useTheme{theme}\", () => [useTheme]);\n\nQueryAndSaveBtns.propTypes = propTypes;\nQueryAndSaveBtns.defaultProps = defaultProps;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/app/superset-frontend/src/explore/components/QueryAndSaveBtns.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/app/superset-frontend/src/explore/components/QueryAndSaveBtns.jsx\");reactHotLoader.register(QueryAndSaveBtns, \"QueryAndSaveBtns\", \"/app/superset-frontend/src/explore/components/QueryAndSaveBtns.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/explore/components/QueryAndSaveBtns.jsx"],"names":["React","PropTypes","ButtonGroup","t","useTheme","Tooltip","Button","propTypes","canAdd","bool","isRequired","onQuery","func","onSave","onStop","loading","chartIsStale","errorMessage","node","defaultProps","QueryAndSaveBtns","qryButtonStyle","saveButtonDisabled","qryOrStopButton","theme","display","flexShrink","flexDirection","alignItems","paddingTop","gridUnit","paddingRight","paddingBottom","paddingLeft","width"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonGroup from 'src/components/ButtonGroup';\nimport { t, useTheme } from '@superset-ui/core';\n\nimport { Tooltip } from 'src/common/components/Tooltip';\nimport Button from 'src/components/Button';\n\nconst propTypes = {\n  canAdd: PropTypes.bool.isRequired,\n  onQuery: PropTypes.func.isRequired,\n  onSave: PropTypes.func,\n  onStop: PropTypes.func,\n  loading: PropTypes.bool,\n  chartIsStale: PropTypes.bool,\n  errorMessage: PropTypes.node,\n};\n\nconst defaultProps = {\n  onStop: () => {},\n  onSave: () => {},\n};\n\nexport default function QueryAndSaveBtns({\n  canAdd,\n  onQuery,\n  onSave,\n  onStop,\n  loading,\n  chartIsStale,\n  errorMessage,\n}) {\n  let qryButtonStyle = 'tertiary';\n  if (errorMessage) {\n    qryButtonStyle = 'danger';\n  } else if (chartIsStale) {\n    qryButtonStyle = 'primary';\n  }\n\n  const saveButtonDisabled = errorMessage ? true : loading;\n  const qryOrStopButton = loading ? (\n    <Button\n      onClick={onStop}\n      buttonStyle=\"warning\"\n      buttonSize=\"small\"\n      disabled={!canAdd}\n    >\n      <i className=\"fa fa-stop-circle-o\" /> {t('Stop')}\n    </Button>\n  ) : (\n    <Button\n      buttonSize=\"small\"\n      onClick={onQuery}\n      buttonStyle={qryButtonStyle}\n      disabled={!!errorMessage}\n      data-test=\"run-query-button\"\n    >\n      <i className=\"fa fa-bolt\" /> {t('Run')}\n    </Button>\n  );\n\n  const theme = useTheme();\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        flexShrink: 0,\n        flexDirection: 'row',\n        alignItems: 'center',\n        paddingTop: theme.gridUnit * 2,\n        paddingRight: theme.gridUnit * 2,\n        paddingBottom: 0,\n        paddingLeft: theme.gridUnit * 4,\n        '& button': {\n          width: 100,\n        },\n      }}\n    >\n      <ButtonGroup className=\"query-and-save\">\n        {qryOrStopButton}\n        <Button\n          buttonStyle=\"tertiary\"\n          buttonSize=\"small\"\n          data-target=\"#save_modal\"\n          data-toggle=\"modal\"\n          disabled={saveButtonDisabled}\n          onClick={onSave}\n          data-test=\"query-save-button\"\n        >\n          <i className=\"fa fa-plus-circle\" /> {t('Save')}\n        </Button>\n      </ButtonGroup>\n      {errorMessage && (\n        <span>\n          {' '}\n          <Tooltip\n            id=\"query-error-tooltip\"\n            placement=\"right\"\n            title={errorMessage}\n          >\n            <i className=\"fa fa-exclamation-circle text-danger fa-lg\" />\n          </Tooltip>\n        </span>\n      )}\n    </div>\n  );\n}\n\nQueryAndSaveBtns.propTypes = propTypes;\nQueryAndSaveBtns.defaultProps = defaultProps;\n"]},"metadata":{},"sourceType":"module"}