{"ast":null,"code":"import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { PlusOutlined } from '@ant-design/icons';\nimport { styled, t } from '@superset-ui/core';\nimport React from 'react';\nimport { LineEditableTabs } from 'src/common/components/Tabs';\nimport Icon from 'src/components/Icon';\nimport { REMOVAL_DELAY_SECS } from './utils';import { jsx as ___EmotionJSX } from \"@emotion/core\";\nexport const FILTER_WIDTH = 200;\nexport const StyledSpan = styled.span`\n  cursor: pointer;\n  color: ${({ theme }) => theme.colors.primary.dark1};\n  &:hover {\n    color: ${({ theme }) => theme.colors.primary.dark2};\n  }\n`;\nexport const StyledFilterTitle = styled.span`\n  width: ${FILTER_WIDTH}px;\n  white-space: normal;\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\n`;\nexport const StyledAddFilterBox = styled.div`\n  color: ${({ theme }) => theme.colors.primary.dark1};\n  text-align: left;\n  padding: ${({ theme }) => theme.gridUnit * 2}px 0;\n  margin: ${({ theme }) => theme.gridUnit * 3}px 0 0\n    ${({ theme }) => -theme.gridUnit * 2}px;\n  border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light1};\n\n  &:hover {\n    color: ${({ theme }) => theme.colors.primary.base};\n  }\n`;\nexport const StyledTrashIcon = styled(Icon)`\n  color: ${({ theme }) => theme.colors.grayscale.light3};\n`;\nexport const FilterTabTitle = styled.span`\n  transition: color ${({ theme }) => theme.transitionTiming}s;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  @keyframes tabTitleRemovalAnimation {\n    0%,\n    90% {\n      opacity: 1;\n    }\n    95%,\n    100% {\n      opacity: 0;\n    }\n  }\n\n  &.removed {\n    color: ${({ theme }) => theme.colors.warning.dark1};\n    transform-origin: top;\n    animation-name: tabTitleRemovalAnimation;\n    animation-duration: ${REMOVAL_DELAY_SECS}s;\n  }\n`;\nconst FilterTabsContainer = styled(LineEditableTabs)`\n  // extra selector specificity:\n  &.ant-tabs-card > .ant-tabs-nav .ant-tabs-tab {\n    min-width: ${FILTER_WIDTH}px;\n    margin: 0 ${({ theme }) => theme.gridUnit * 2}px 0 0;\n    padding: ${({ theme }) => theme.gridUnit}px\n      ${({ theme }) => theme.gridUnit * 2}px;\n\n    &:hover,\n    &-active {\n      color: ${({ theme }) => theme.colors.grayscale.dark1};\n      border-radius: ${({ theme }) => theme.borderRadius}px;\n      background-color: ${({ theme }) => theme.colors.secondary.light4};\n\n      .ant-tabs-tab-remove > svg {\n        color: ${({ theme }) => theme.colors.grayscale.base};\n        transition: all 0.3s;\n      }\n    }\n  }\n\n  .ant-tabs-tab-btn {\n    text-align: left;\n    justify-content: space-between;\n    text-transform: unset;\n  }\n`;\nconst FilterTabs = ({ onEdit, getFilterTitle, onChange, currentFilterId, filterIds = [], removedFilters = [], restoreFilter, children }) => ___EmotionJSX(FilterTabsContainer, { tabPosition: \"left\", onChange: onChange, activeKey: currentFilterId, onEdit: onEdit, addIcon: ___EmotionJSX(StyledAddFilterBox, null,\n  ___EmotionJSX(PlusOutlined, null), ' ',\n  ___EmotionJSX(\"span\", { \"data-test\": \"add-filter-button\" }, t('Add filter'))) },\n\n_mapInstanceProperty(filterIds).call(filterIds, id => ___EmotionJSX(LineEditableTabs.TabPane, { tab: ___EmotionJSX(FilterTabTitle, { className: removedFilters[id] ? 'removed' : '' },\n  ___EmotionJSX(StyledFilterTitle, null,\n  removedFilters[id] ? t('(Removed)') : getFilterTitle(id)),\n\n  removedFilters[id] && ___EmotionJSX(StyledSpan, { role: \"button\", \"data-test\": \"undo-button\", tabIndex: 0, onClick: () => restoreFilter(id) },\n  t('Undo?'))),\n\n  key: id, closeIcon: removedFilters[id] ? ___EmotionJSX(React.Fragment, null) : ___EmotionJSX(StyledTrashIcon, { name: \"trash\" }) },\n\n// @ts-ignore\nchildren(id))));const _default =\n\n\nFilterTabs;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(FILTER_WIDTH, \"FILTER_WIDTH\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx\");reactHotLoader.register(StyledSpan, \"StyledSpan\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx\");reactHotLoader.register(StyledFilterTitle, \"StyledFilterTitle\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx\");reactHotLoader.register(StyledAddFilterBox, \"StyledAddFilterBox\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx\");reactHotLoader.register(StyledTrashIcon, \"StyledTrashIcon\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx\");reactHotLoader.register(FilterTabTitle, \"FilterTabTitle\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx\");reactHotLoader.register(FilterTabsContainer, \"FilterTabsContainer\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx\");reactHotLoader.register(FilterTabs, \"FilterTabs\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/dashboard/components/nativeFilters/FiltersConfigModal/FilterTabs.tsx"],"names":[],"mappings":"8XAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,SAAS,YAAT,QAA6B,mBAA7B;AACA,SAAS,MAAT,EAAiB,CAAjB,QAA0B,mBAA1B;AACA,OAAO,KAAP,MAA0B,OAA1B;AACA,SAAS,gBAAT,QAAiC,4BAAjC;AACA,OAAO,IAAP,MAAiB,qBAAjB;AAEA,SAAS,kBAAT,QAAmC,SAAnC,C;AAEA,OAAO,MAAM,YAAY,GAAG,GAArB;AAEP,OAAO,MAAM,UAAU,GAAG,MAAM,CAAC,IAAI;;WAE1B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,KAAK;;aAEvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,KAAK;;AAErD,CANM;AAQP,OAAO,MAAM,iBAAiB,GAAG,MAAM,CAAC,IAAI;WACjC,YAAY;;WAEZ,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;AACrD,CAJM;AAMP,OAAO,MAAM,kBAAkB,GAAG,MAAM,CAAC,GAAG;WACjC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,KAAK;;aAEvC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;YAClC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;MACvC,CAAC,EAAE,KAAF,EAAD,KAAe,CAAC,KAAK,CAAC,QAAP,GAAkB,CAAC;0BACd,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;aAGzD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,IAAI;;AAEpD,CAXM;AAaP,OAAO,MAAM,eAAe,GAAG,MAAM,CAAC,IAAD,CAAM;WAChC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;AACtD,CAFM;AAIP,OAAO,MAAM,cAAc,GAAG,MAAM,CAAC,IAAI;sBACnB,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,gBAAgB;;;;;;;;;;;;;;;;;;aAkB9C,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,OAAb,CAAqB,KAAK;;;0BAG5B,kBAAkB;;AAE3C,CAxBM;AA0BP,MAAM,mBAAmB,GAAG,MAAM,CAAC,gBAAD,CAAkB;;;iBAGnC,YAAY;gBACb,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;eAClC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAQ;QACpC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,QAAN,GAAiB,CAAC;;;;eAI1B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,KAAK;uBACnC,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,YAAY;0BAC9B,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,MAAM;;;iBAGrD,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,MAAN,CAAa,SAAb,CAAuB,IAAI;;;;;;;;;;;AAW1D,CA1BD;AAuCA,MAAM,UAAU,GAAwB,CAAC,EACvC,MADuC,EAEvC,cAFuC,EAGvC,QAHuC,EAIvC,eAJuC,EAKvC,SAAS,GAAG,EAL2B,EAMvC,cAAc,GAAG,EANsB,EAOvC,aAPuC,EAQvC,QARuC,EAAD,KAUtC,cAAC,mBAAD,IACE,WAAW,EAAC,MADd,EAEE,QAAQ,EAAE,QAFZ,EAGE,SAAS,EAAE,eAHb,EAIE,MAAM,EAAE,MAJV,EAKE,OAAO,EACL,cAAC,kBAAD;AACE,gBAAC,YAAD,OADF,EACmB,GADnB;AAEE,0BAAM,aAAU,mBAAhB,IAAqC,CAAC,CAAC,YAAD,CAAtC,CAFF,CANJ;;AAYG,qBAAA,SAAS,MAAT,CAAA,SAAS,EAAK,EAAE,IACf,cAAC,gBAAD,CAAkB,OAAlB,IACE,GAAG,EACD,cAAC,cAAD,IAAgB,SAAS,EAAE,cAAc,CAAC,EAAD,CAAd,GAAqB,SAArB,GAAiC,EAA5D;AACE,gBAAC,iBAAD;AACG,EAAA,cAAc,CAAC,EAAD,CAAd,GAAqB,CAAC,CAAC,WAAD,CAAtB,GAAsC,cAAc,CAAC,EAAD,CADvD,CADF;;AAIG,EAAA,cAAc,CAAC,EAAD,CAAd,IACC,cAAC,UAAD,IACE,IAAI,EAAC,QADP,EAEE,aAAU,aAFZ,EAGE,QAAQ,EAAE,CAHZ,EAIE,OAAO,EAAE,MAAM,aAAa,CAAC,EAAD,CAJ9B;AAMG,EAAA,CAAC,CAAC,OAAD,CANJ,CALJ,CAFJ;;AAkBE,EAAA,GAAG,EAAE,EAlBP,EAmBE,SAAS,EACP,cAAc,CAAC,EAAD,CAAd,GAAqB,mCAArB,GAA6B,cAAC,eAAD,IAAiB,IAAI,EAAC,OAAtB,GApBjC;;AAwBI;AACA,QAAQ,CAAC,EAAD,CAzBZ,CADQ,CAZZ,CAVF,C;;;AAuDe,U,CAAf,wB,iLAzJa,Y,6IAEA,U,2IAQA,iB,kJAMA,kB,mJAaA,e,gJAIA,c,+IA0BP,mB,oJAuCA,U","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { PlusOutlined } from '@ant-design/icons';\nimport { styled, t } from '@superset-ui/core';\nimport React, { FC } from 'react';\nimport { LineEditableTabs } from 'src/common/components/Tabs';\nimport Icon from 'src/components/Icon';\nimport { FilterRemoval } from './types';\nimport { REMOVAL_DELAY_SECS } from './utils';\n\nexport const FILTER_WIDTH = 200;\n\nexport const StyledSpan = styled.span`\n  cursor: pointer;\n  color: ${({ theme }) => theme.colors.primary.dark1};\n  &:hover {\n    color: ${({ theme }) => theme.colors.primary.dark2};\n  }\n`;\n\nexport const StyledFilterTitle = styled.span`\n  width: ${FILTER_WIDTH}px;\n  white-space: normal;\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\n`;\n\nexport const StyledAddFilterBox = styled.div`\n  color: ${({ theme }) => theme.colors.primary.dark1};\n  text-align: left;\n  padding: ${({ theme }) => theme.gridUnit * 2}px 0;\n  margin: ${({ theme }) => theme.gridUnit * 3}px 0 0\n    ${({ theme }) => -theme.gridUnit * 2}px;\n  border-top: 1px solid ${({ theme }) => theme.colors.grayscale.light1};\n\n  &:hover {\n    color: ${({ theme }) => theme.colors.primary.base};\n  }\n`;\n\nexport const StyledTrashIcon = styled(Icon)`\n  color: ${({ theme }) => theme.colors.grayscale.light3};\n`;\n\nexport const FilterTabTitle = styled.span`\n  transition: color ${({ theme }) => theme.transitionTiming}s;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  @keyframes tabTitleRemovalAnimation {\n    0%,\n    90% {\n      opacity: 1;\n    }\n    95%,\n    100% {\n      opacity: 0;\n    }\n  }\n\n  &.removed {\n    color: ${({ theme }) => theme.colors.warning.dark1};\n    transform-origin: top;\n    animation-name: tabTitleRemovalAnimation;\n    animation-duration: ${REMOVAL_DELAY_SECS}s;\n  }\n`;\n\nconst FilterTabsContainer = styled(LineEditableTabs)`\n  // extra selector specificity:\n  &.ant-tabs-card > .ant-tabs-nav .ant-tabs-tab {\n    min-width: ${FILTER_WIDTH}px;\n    margin: 0 ${({ theme }) => theme.gridUnit * 2}px 0 0;\n    padding: ${({ theme }) => theme.gridUnit}px\n      ${({ theme }) => theme.gridUnit * 2}px;\n\n    &:hover,\n    &-active {\n      color: ${({ theme }) => theme.colors.grayscale.dark1};\n      border-radius: ${({ theme }) => theme.borderRadius}px;\n      background-color: ${({ theme }) => theme.colors.secondary.light4};\n\n      .ant-tabs-tab-remove > svg {\n        color: ${({ theme }) => theme.colors.grayscale.base};\n        transition: all 0.3s;\n      }\n    }\n  }\n\n  .ant-tabs-tab-btn {\n    text-align: left;\n    justify-content: space-between;\n    text-transform: unset;\n  }\n`;\n\ntype FilterTabsProps = {\n  onChange: (activeKey: string) => void;\n  getFilterTitle: (id: string) => string;\n  currentFilterId: string;\n  onEdit: (filterId: string, action: 'add' | 'remove') => void;\n  filterIds: string[];\n  removedFilters: Record<string, FilterRemoval>;\n  restoreFilter: Function;\n  children: Function;\n};\n\nconst FilterTabs: FC<FilterTabsProps> = ({\n  onEdit,\n  getFilterTitle,\n  onChange,\n  currentFilterId,\n  filterIds = [],\n  removedFilters = [],\n  restoreFilter,\n  children,\n}) => (\n  <FilterTabsContainer\n    tabPosition=\"left\"\n    onChange={onChange}\n    activeKey={currentFilterId}\n    onEdit={onEdit}\n    addIcon={\n      <StyledAddFilterBox>\n        <PlusOutlined />{' '}\n        <span data-test=\"add-filter-button\">{t('Add filter')}</span>\n      </StyledAddFilterBox>\n    }\n  >\n    {filterIds.map(id => (\n      <LineEditableTabs.TabPane\n        tab={\n          <FilterTabTitle className={removedFilters[id] ? 'removed' : ''}>\n            <StyledFilterTitle>\n              {removedFilters[id] ? t('(Removed)') : getFilterTitle(id)}\n            </StyledFilterTitle>\n            {removedFilters[id] && (\n              <StyledSpan\n                role=\"button\"\n                data-test=\"undo-button\"\n                tabIndex={0}\n                onClick={() => restoreFilter(id)}\n              >\n                {t('Undo?')}\n              </StyledSpan>\n            )}\n          </FilterTabTitle>\n        }\n        key={id}\n        closeIcon={\n          removedFilters[id] ? <></> : <StyledTrashIcon name=\"trash\" />\n        }\n      >\n        {\n          // @ts-ignore\n          children(id)\n        }\n      </LineEditableTabs.TabPane>\n    ))}\n  </FilterTabsContainer>\n);\n\nexport default FilterTabs;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}